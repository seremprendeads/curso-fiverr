<script>
document.addEventListener("DOMContentLoaded", () => {
  const headers = document.querySelectorAll(".accordion-header");

  headers.forEach(header => {
    header.addEventListener("click", () => {
      const content = header.nextElementSibling;
      const icon    = header.querySelector("i");

      // Cerrar todas las respuestas menos la actual
      document.querySelectorAll(".accordion-content").forEach(item => {
        if (item !== content) {
          item.hidden = true;
          item.previousElementSibling.querySelector("i")
              .classList.replace("fa-chevron-up", "fa-chevron-down");
        }
      });

      // Alternar visibilidad de la respuesta clicada
      if (content.hidden) {
        content.hidden = false;
        icon.classList.replace("fa-chevron-down", "fa-chevron-up");
      } else {
        content.hidden = true;
        icon.classList.replace("fa-chevron-up", "fa-chevron-down");
      }
    });
  });
});
</script>

<script>
  document.querySelectorAll('.youtube-placeholder').forEach(el => {
    el.addEventListener('click', () => {
      const id = el.dataset.videoId;
      console.log(`Cargando video con ID: ${id}`); // Verificar que el click se está registrando

      // Crear iframe sin mute y con controles
      const iframe = document.createElement('iframe');
      iframe.src = `https://www.youtube-nocookie.com/embed/${id}?autoplay=1&controls=1&playsinline=1`;
      iframe.frameBorder = '0';
      iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
      iframe.allowFullscreen = true;
      iframe.className = 'w-full h-full';

      // Envolver en aspecto de video para mantener la proporción 16:9
      const wrapper = document.createElement('div');
      wrapper.className = 'aspect-video w-full rounded-lg overflow-hidden';
      wrapper.appendChild(iframe);

      // Sustituir el placeholder
      el.innerHTML = '';
      el.appendChild(wrapper);
    }, { once: true });
  });
</script>
